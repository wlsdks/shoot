openapi: 3.0.3

info:
  title: Shoot User Service API
  version: 1.0.0
  description: |
    Shoot ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ User Service REST API ëª…ì„¸ì„œ

    ## ì£¼ìš” ê¸°ëŠ¥
    - ì‚¬ìš©ì ì¸ì¦ (ë¡œê·¸ì¸, í† í° ê´€ë¦¬)
    - ì‚¬ìš©ì ê´€ë¦¬ (CRUD, í”„ë¡œí•„, ìƒíƒœ)
    - ì‚¬ìš©ì ì°¨ë‹¨
    - ì‚¬ìš©ì ì½”ë“œ ê´€ë¦¬

    ## ì¸ì¦ ë°©ì‹
    - JWT Bearer Token ì¸ì¦
    - Access Token + Refresh Token

    ## MSA ì „í™˜ ëŒ€ë¹„
    ë³¸ APIëŠ” í–¥í›„ Microservice Architectureë¡œ ì „í™˜ ì‹œ User Serviceì˜ ê³µê°œ API ê³„ì•½ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

  contact:
    name: Shoot Development Team
    email: dev@shoot.com

  license:
    name: Proprietary
    url: https://shoot.com/license

servers:
  - url: http://localhost:8080
    description: Local Development Server
  - url: https://dev-api.shoot.com
    description: Development Server
  - url: https://staging-api.shoot.com
    description: Staging Server
  - url: https://api.shoot.com
    description: Production Server

tags:
  - name: Authentication
    description: ì‚¬ìš©ì ì¸ì¦ ê´€ë ¨ API (ë¡œê·¸ì¸, í† í° ê´€ë¦¬)
  - name: User Management
    description: ì‚¬ìš©ì ê´€ë¦¬ API (CRUD, í”„ë¡œí•„)
  - name: User Status
    description: ì‚¬ìš©ì ìƒíƒœ ê´€ë¦¬ API
  - name: User Block
    description: ì‚¬ìš©ì ì°¨ë‹¨ ê´€ë¦¬ API
  - name: User Code
    description: ì‚¬ìš©ì ì½”ë“œ ê´€ë¦¬ API

security:
  - BearerAuth: []

paths:
  # ==================== Authentication ====================

  /api/v1/auth/login:
    post:
      tags:
        - Authentication
      summary: ì‚¬ìš©ì ë¡œê·¸ì¸
      description: |
        usernameê³¼ passwordë¡œ ë¡œê·¸ì¸í•˜ì—¬ JWT í† í°ì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.

        **ì„±ê³µ ì‹œ:**
        - Access Token (ìœ íš¨ê¸°ê°„: 1ì‹œê°„)
        - Refresh Token (ìœ íš¨ê¸°ê°„: 30ì¼)
        - User ID

        **ì‹¤íŒ¨ ì¼€ì´ìŠ¤:**
        - 400: ì˜ëª»ëœ ìš”ì²­ (username ë˜ëŠ” password ëˆ„ë½)
        - 401: ì¸ì¦ ì‹¤íŒ¨ (ì˜ëª»ëœ ìê²©ì¦ëª…)
        - 404: ì‚¬ìš©ì ì—†ìŒ
      operationId: login
      security: []  # ë¡œê·¸ì¸ì€ ì¸ì¦ ë¶ˆí•„ìš”
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            examples:
              validLogin:
                summary: ì •ìƒ ë¡œê·¸ì¸ ìš”ì²­
                value:
                  username: "john_doe"
                  password: "SecureP@ssw0rd"
      responses:
        '200':
          description: ë¡œê·¸ì¸ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
              examples:
                success:
                  summary: ë¡œê·¸ì¸ ì„±ê³µ
                  value:
                    success: true
                    data:
                      userId: "550e8400-e29b-41d4-a716-446655440000"
                      accessToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                      refreshToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    message: "ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T14:30:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                missingFields:
                  summary: í•„ìˆ˜ í•„ë“œ ëˆ„ë½
                  value:
                    success: false
                    data: null
                    message: "usernameê³¼ passwordëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤."
                    errorCode: "INVALID_REQUEST"
                    timestamp: "2025-11-08T14:30:00Z"
                    code: 400
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                invalidCredentials:
                  summary: ì˜ëª»ëœ ìê²©ì¦ëª…
                  value:
                    success: false
                    data: null
                    message: "ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."
                    errorCode: "INVALID_CREDENTIALS"
                    timestamp: "2025-11-08T14:30:00Z"
                    code: 401
        '404':
          description: ì‚¬ìš©ì ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/auth/refresh-token:
    post:
      tags:
        - Authentication
      summary: Access Token ì¬ë°œê¸‰
      description: |
        ìœ íš¨í•œ Refresh Tokenìœ¼ë¡œ ìƒˆë¡œìš´ Access Tokenê³¼ Refresh Tokenì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.

        **ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:**
        - Access Tokenì´ ë§Œë£Œë˜ì—ˆì„ ë•Œ
        - Access Token ìœ íš¨ê¸°ê°„ ê°±ì‹ ì´ í•„ìš”í•  ë•Œ

        **Refresh Token ì •ì±…:**
        - ìœ íš¨ê¸°ê°„: 30ì¼
        - ì¬ì‚¬ìš© ì‹œ ìƒˆë¡œìš´ Refresh Token ë°œê¸‰ (Refresh Token Rotation)
        - ìµœëŒ€ ë™ì‹œ ì„¸ì…˜: 5ê°œ (LRU ì „ëµ)

        **ë³´ì•ˆ:**
        - Refresh Tokenì€ ì•ˆì „í•˜ê²Œ ë³´ê´€í•´ì•¼ í•¨
        - Refresh Token íƒˆì·¨ ì‹œ ëª¨ë“  ì„¸ì…˜ ì¢…ë£Œ í•„ìš”
      operationId: refreshToken
      security: []  # Refresh Token ìì²´ë¡œ ì¸ì¦
      parameters:
        - name: Authorization
          in: header
          required: true
          description: |
            Refresh Token (Bearer í˜•ì‹)

            **í˜•ì‹:**
            ```
            Authorization: Bearer {refreshToken}
            ```
          schema:
            type: string
            example: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
      responses:
        '200':
          description: í† í° ì¬ë°œê¸‰ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/LoginResponse'
              examples:
                success:
                  summary: ì¬ë°œê¸‰ ì„±ê³µ
                  value:
                    success: true
                    data:
                      userId: "550e8400-e29b-41d4-a716-446655440000"
                      accessToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.NEW_ACCESS_TOKEN..."
                      refreshToken: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.NEW_REFRESH_TOKEN..."
                    message: "ìƒˆ ì•¡ì„¸ìŠ¤ í† í°ì´ ë°œê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T15:00:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ (Authorization í—¤ë” ëˆ„ë½ ë˜ëŠ” í˜•ì‹ ì˜¤ë¥˜)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                missingHeader:
                  summary: Authorization í—¤ë” ëˆ„ë½
                  value:
                    success: false
                    data: null
                    message: "Authorization í—¤ë”ê°€ í•„ìš”í•©ë‹ˆë‹¤."
                    errorCode: "MISSING_AUTHORIZATION_HEADER"
                    timestamp: "2025-11-08T15:00:00Z"
                    code: 400
                invalidFormat:
                  summary: ì˜ëª»ëœ í—¤ë” í˜•ì‹
                  value:
                    success: false
                    data: null
                    message: "Authorization í—¤ë” í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (Bearer {token} í˜•ì‹)"
                    errorCode: "INVALID_HEADER_FORMAT"
                    timestamp: "2025-11-08T15:00:00Z"
                    code: 400
        '401':
          description: Refresh Token ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                tokenExpired:
                  summary: Refresh Token ë§Œë£Œ
                  value:
                    success: false
                    data: null
                    message: "Refresh Tokenì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."
                    errorCode: "REFRESH_TOKEN_EXPIRED"
                    timestamp: "2025-11-08T15:00:00Z"
                    code: 401
                tokenInvalid:
                  summary: ìœ íš¨í•˜ì§€ ì•Šì€ Refresh Token
                  value:
                    success: false
                    data: null
                    message: "ìœ íš¨í•˜ì§€ ì•Šì€ Refresh Tokenì…ë‹ˆë‹¤."
                    errorCode: "INVALID_REFRESH_TOKEN"
                    timestamp: "2025-11-08T15:00:00Z"
                    code: 401
                tokenRevoked:
                  summary: Refresh Token ì·¨ì†Œë¨
                  value:
                    success: false
                    data: null
                    message: "Refresh Tokenì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”."
                    errorCode: "REFRESH_TOKEN_REVOKED"
                    timestamp: "2025-11-08T15:00:00Z"
                    code: 401
        '404':
          description: Refresh Tokenì„ ì°¾ì„ ìˆ˜ ì—†ìŒ (DBì— ì—†ìŒ)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/auth/me:
    get:
      tags:
        - Authentication
      summary: í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
      description: |
        í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ìì˜ ì „ì²´ ì •ë³´ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

        **ì¸ì¦ í•„ìš”:** Bearer Token

        **ë°˜í™˜ ì •ë³´:**
        - ì‚¬ìš©ì ID, username, nickname
        - í”„ë¡œí•„ ì´ë¯¸ì§€, ë°°ê²½ ì´ë¯¸ì§€
        - ì‚¬ìš©ì ìƒíƒœ (ACTIVE, INACTIVE, SUSPENDED ë“±)
        - ì‚¬ìš©ì ì½”ë“œ (8ìë¦¬)
        - ë§ˆì§€ë§‰ ì ‘ì† ì‹œê°„
      operationId: getCurrentUser
      security:
        - BearerAuth: []
      responses:
        '200':
          description: ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: ì •ìƒ ì‘ë‹µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "john_doe"
                      nickname: "John Doe"
                      status: "ACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/john_doe.jpg"
                      backgroundImageUrl: "https://cdn.shoot.com/backgrounds/john_doe.jpg"
                      bio: "Software Engineer | Coffee Lover â˜•"
                      userCode: "ABC12345"
                      lastSeenAt: "2025-11-08T14:25:00Z"
                    message: null
                    errorCode: null
                    timestamp: "2025-11-08T14:30:00Z"
                    code: 200
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨ (í† í° ì—†ìŒ, ë§Œë£Œ, ìœ íš¨í•˜ì§€ ì•ŠìŒ)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                tokenExpired:
                  summary: í† í° ë§Œë£Œ
                  value:
                    success: false
                    data: null
                    message: "Access Tokenì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: "TOKEN_EXPIRED"
                    timestamp: "2025-11-08T14:30:00Z"
                    code: 401
                tokenInvalid:
                  summary: ìœ íš¨í•˜ì§€ ì•Šì€ í† í°
                  value:
                    success: false
                    data: null
                    message: "ìœ íš¨í•˜ì§€ ì•Šì€ Access Tokenì…ë‹ˆë‹¤."
                    errorCode: "INVALID_TOKEN"
                    timestamp: "2025-11-08T14:30:00Z"
                    code: 401
        '404':
          description: ì‚¬ìš©ì ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # ==================== User Management ====================

  /api/v1/users:
    post:
      tags:
        - User Management
      summary: ì‚¬ìš©ì ìƒì„± (íšŒì›ê°€ì…)
      description: |
        ìƒˆë¡œìš´ ì‚¬ìš©ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤ (íšŒì›ê°€ì…).

        **í•„ìˆ˜ ì •ë³´:**
        - username: ì‚¬ìš©ì ì´ë¦„ (3-20ì, ê³ ìœ )
        - nickname: ë‹‰ë„¤ì„ (1-30ì)
        - password: ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 8ì)
        - email: ì´ë©”ì¼ (ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹)

        **ì„ íƒ ì •ë³´:**
        - bio: ìê¸°ì†Œê°œ (ìµœëŒ€ 500ì)
        - profileImage: í”„ë¡œí•„ ì´ë¯¸ì§€ íŒŒì¼ (ìµœëŒ€ 5MB, jpg/png)

        **ìë™ ìƒì„±:**
        - ì‚¬ìš©ì ID (UUID)
        - ì‚¬ìš©ì ì½”ë“œ (8ìë¦¬, ëŒ€ë¬¸ì+ìˆ«ì)
        - íšŒì›ê°€ì… ì‹œê°„

        **ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™:**
        - usernameì€ ì¤‘ë³µ ë¶ˆê°€
        - emailì€ ì¤‘ë³µ ë¶ˆê°€
        - passwordëŠ” ì•”í˜¸í™”ë˜ì–´ ì €ì¥
        - í”„ë¡œí•„ ì´ë¯¸ì§€ëŠ” CDNì— ì—…ë¡œë“œ í›„ URL ë°˜í™˜
      operationId: createUser
      security: []  # íšŒì›ê°€ì…ì€ ì¸ì¦ ë¶ˆí•„ìš”
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
            encoding:
              profileImage:
                contentType: image/jpeg, image/png
      responses:
        '201':
          description: íšŒì›ê°€ì… ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: íšŒì›ê°€ì… ì„±ê³µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "new_user"
                      nickname: "New User"
                      status: "ACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/new_user.jpg"
                      backgroundImageUrl: null
                      bio: "Hello, I'm new here!"
                      userCode: "ABC12345"
                      lastSeenAt: null
                    message: "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                missingField:
                  summary: í•„ìˆ˜ í•„ë“œ ëˆ„ë½
                  value:
                    success: false
                    data: null
                    message: "username, nickname, password, emailì€ í•„ìˆ˜ì…ë‹ˆë‹¤."
                    errorCode: "MISSING_REQUIRED_FIELD"
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 400
                invalidEmail:
                  summary: ì´ë©”ì¼ í˜•ì‹ ì˜¤ë¥˜
                  value:
                    success: false
                    data: null
                    message: "ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ í˜•ì‹ì…ë‹ˆë‹¤."
                    errorCode: "INVALID_EMAIL_FORMAT"
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 400
                weakPassword:
                  summary: ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ë¶€ì¡±
                  value:
                    success: false
                    data: null
                    message: "ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤."
                    errorCode: "WEAK_PASSWORD"
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 400
                fileTooLarge:
                  summary: íŒŒì¼ í¬ê¸° ì´ˆê³¼
                  value:
                    success: false
                    data: null
                    message: "í”„ë¡œí•„ ì´ë¯¸ì§€ëŠ” ìµœëŒ€ 5MBê¹Œì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤."
                    errorCode: "FILE_TOO_LARGE"
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 400
        '409':
          description: ì¤‘ë³µ ë°ì´í„° (username ë˜ëŠ” email)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                duplicateUsername:
                  summary: Username ì¤‘ë³µ
                  value:
                    success: false
                    data: null
                    message: "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì‚¬ìš©ì ì´ë¦„ì…ë‹ˆë‹¤."
                    errorCode: "DUPLICATE_USERNAME"
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 409
                duplicateEmail:
                  summary: Email ì¤‘ë³µ
                  value:
                    success: false
                    data: null
                    message: "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤."
                    errorCode: "DUPLICATE_EMAIL"
                    timestamp: "2025-11-08T15:30:00Z"
                    code: 409

  /api/v1/users/{userId}:
    get:
      tags:
        - User Management
      summary: ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ
      description: |
        íŠ¹ì • ì‚¬ìš©ìì˜ ê³µê°œ í”„ë¡œí•„ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

        **ì¡°íšŒ ê°€ëŠ¥ ì •ë³´:**
        - ì‚¬ìš©ì ID, username, nickname
        - í”„ë¡œí•„ ì´ë¯¸ì§€, ë°°ê²½ ì´ë¯¸ì§€
        - ì‚¬ìš©ì ìƒíƒœ
        - ì‚¬ìš©ì ì½”ë“œ
        - ë§ˆì§€ë§‰ ì ‘ì† ì‹œê°„

        **ê¶Œí•œ:**
        - ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ì¡°íšŒ ê°€ëŠ¥
        - ì°¨ë‹¨í•œ ì‚¬ìš©ìëŠ” ì¡°íšŒ ë¶ˆê°€

        **ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:**
        - ì¹œêµ¬ í”„ë¡œí•„ ë³´ê¸°
        - ì‚¬ìš©ì ê²€ìƒ‰ ê²°ê³¼ ìƒì„¸ë³´ê¸°
        - ì±„íŒ…ë°©ì—ì„œ ìƒëŒ€ë°© í”„ë¡œí•„ ë³´ê¸°
      operationId: getUserProfile
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: path
          required: true
          description: ì¡°íšŒí•  ì‚¬ìš©ì ID
          schema:
            type: integer
            format: int64
            example: 12345
      responses:
        '200':
          description: í”„ë¡œí•„ ì¡°íšŒ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: ì¡°íšŒ ì„±ê³µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "jane_smith"
                      nickname: "Jane Smith"
                      status: "ACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/jane_smith.jpg"
                      backgroundImageUrl: "https://cdn.shoot.com/backgrounds/jane_smith.jpg"
                      bio: "Designer | Traveler ğŸŒ"
                      userCode: "XYZ98765"
                      lastSeenAt: "2025-11-08T15:50:00Z"
                    message: "í”„ë¡œí•„ ì •ë³´ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T16:00:00Z"
                    code: 200
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: ê¶Œí•œ ì—†ìŒ (ì°¨ë‹¨ëœ ì‚¬ìš©ì)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                blocked:
                  summary: ì°¨ë‹¨ëœ ì‚¬ìš©ì
                  value:
                    success: false
                    data: null
                    message: "ì°¨ë‹¨ëœ ì‚¬ìš©ìì˜ í”„ë¡œí•„ì€ ì¡°íšŒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
                    errorCode: "USER_BLOCKED"
                    timestamp: "2025-11-08T16:00:00Z"
                    code: 403
        '404':
          description: ì‚¬ìš©ì ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                notFound:
                  summary: ì‚¬ìš©ì ì—†ìŒ
                  value:
                    success: false
                    data: null
                    message: "ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: 12345"
                    errorCode: "USER_NOT_FOUND"
                    timestamp: "2025-11-08T16:00:00Z"
                    code: 404

  /api/v1/users/me:
    put:
      tags:
        - User Management
      summary: ë‚´ í”„ë¡œí•„ ìˆ˜ì •
      description: |
        í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.

        **ìˆ˜ì • ê°€ëŠ¥í•œ í•„ë“œ:**
        - nickname: ë‹‰ë„¤ì„ (1-30ì)
        - profileImageUrl: í”„ë¡œí•„ ì´ë¯¸ì§€ URL
        - backgroundImageUrl: ë°°ê²½ ì´ë¯¸ì§€ URL
        - bio: ìê¸°ì†Œê°œ (ìµœëŒ€ 500ì)

        **ëª¨ë“  í•„ë“œëŠ” ì„ íƒì :**
        - ìˆ˜ì •í•˜ê³  ì‹¶ì€ í•„ë“œë§Œ ë³´ë‚´ë©´ ë¨
        - null ê°’ì€ ê¸°ì¡´ ê°’ ìœ ì§€
        - ë¹ˆ ë¬¸ìì—´("")ì€ ê°’ ì‚­ì œ

        **ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš°:**
        1. ë³„ë„ APIë¡œ ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ â†’ URL íšë“
        2. íšë“í•œ URLë¡œ í”„ë¡œí•„ ìˆ˜ì • ìš”ì²­
      operationId: updateProfile
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProfileRequest'
            examples:
              updateAll:
                summary: ëª¨ë“  í•„ë“œ ìˆ˜ì •
                value:
                  nickname: "John Updated"
                  profileImageUrl: "https://cdn.shoot.com/profiles/new-profile.jpg"
                  backgroundImageUrl: "https://cdn.shoot.com/backgrounds/new-bg.jpg"
                  bio: "Updated bio"
              updateNicknameOnly:
                summary: ë‹‰ë„¤ì„ë§Œ ìˆ˜ì •
                value:
                  nickname: "New Nickname"
                  profileImageUrl: null
                  backgroundImageUrl: null
                  bio: null
      responses:
        '200':
          description: í”„ë¡œí•„ ìˆ˜ì • ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: ìˆ˜ì • ì„±ê³µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "john_doe"
                      nickname: "John Updated"
                      status: "ACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/new-profile.jpg"
                      backgroundImageUrl: "https://cdn.shoot.com/backgrounds/new-bg.jpg"
                      bio: "Updated bio"
                      userCode: "ABC12345"
                      lastSeenAt: "2025-11-08T16:00:00Z"
                    message: "í”„ë¡œí•„ì´ ì„±ê³µì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T16:05:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                invalidNickname:
                  summary: ë‹‰ë„¤ì„ ê¸¸ì´ ì´ˆê³¼
                  value:
                    success: false
                    data: null
                    message: "ë‹‰ë„¤ì„ì€ ìµœëŒ€ 30ìê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤."
                    errorCode: "INVALID_NICKNAME_LENGTH"
                    timestamp: "2025-11-08T16:05:00Z"
                    code: 400
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/users/me/profile-image:
    put:
      tags:
        - User Management
      summary: í”„ë¡œí•„ ì‚¬ì§„ ì„¤ì •
      description: |
        í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì‚¬ì§„ì„ ì„¤ì •í•©ë‹ˆë‹¤.

        **ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš°:**
        1. ë³„ë„ File Upload APIë¡œ ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ â†’ URL íšë“
        2. íšë“í•œ URLë¡œ í”„ë¡œí•„ ì‚¬ì§„ ì„¤ì • ìš”ì²­

        **ì´ë¯¸ì§€ ìš”êµ¬ì‚¬í•­:**
        - í˜•ì‹: JPG, PNG
        - ìµœëŒ€ í¬ê¸°: 5MB
        - ê¶Œì¥ í•´ìƒë„: 512x512px ì´ìƒ

        **ë™ì‘:**
        - ê¸°ì¡´ í”„ë¡œí•„ ì‚¬ì§„ URLì„ ìƒˆ URLë¡œ êµì²´
        - null ê°’ ì „ì†¡ ì‹œ í”„ë¡œí•„ ì‚¬ì§„ ì œê±°
      operationId: setProfileImage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetProfileImageRequest'
            examples:
              setImage:
                summary: í”„ë¡œí•„ ì‚¬ì§„ ì„¤ì •
                value:
                  profileImageUrl: "https://cdn.shoot.com/profiles/new-avatar.jpg"
      responses:
        '200':
          description: í”„ë¡œí•„ ì‚¬ì§„ ì„¤ì • ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: ì„¤ì • ì„±ê³µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "john_doe"
                      nickname: "John Doe"
                      status: "ACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/new-avatar.jpg"
                      backgroundImageUrl: "https://cdn.shoot.com/backgrounds/john_doe.jpg"
                      bio: "Software Engineer"
                      userCode: "ABC12345"
                      lastSeenAt: "2025-11-08T16:10:00Z"
                    message: "í”„ë¡œí•„ ì‚¬ì§„ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T16:15:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ (URL í˜•ì‹ ì˜¤ë¥˜)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/users/me/background-image:
    put:
      tags:
        - User Management
      summary: ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì •
      description: |
        í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

        **ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš°:**
        1. ë³„ë„ File Upload APIë¡œ ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ â†’ URL íšë“
        2. íšë“í•œ URLë¡œ ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • ìš”ì²­

        **ì´ë¯¸ì§€ ìš”êµ¬ì‚¬í•­:**
        - í˜•ì‹: JPG, PNG
        - ìµœëŒ€ í¬ê¸°: 10MB
        - ê¶Œì¥ í•´ìƒë„: 1920x1080px ì´ìƒ

        **ë™ì‘:**
        - ê¸°ì¡´ ë°°ê²½ ì´ë¯¸ì§€ URLì„ ìƒˆ URLë¡œ êµì²´
        - null ê°’ ì „ì†¡ ì‹œ ë°°ê²½ ì´ë¯¸ì§€ ì œê±°
      operationId: setBackgroundImage
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetBackgroundImageRequest'
            examples:
              setImage:
                summary: ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì •
                value:
                  backgroundImageUrl: "https://cdn.shoot.com/backgrounds/new-background.jpg"
      responses:
        '200':
          description: ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: ì„¤ì • ì„±ê³µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "john_doe"
                      nickname: "John Doe"
                      status: "ACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/john_doe.jpg"
                      backgroundImageUrl: "https://cdn.shoot.com/backgrounds/new-background.jpg"
                      bio: "Software Engineer"
                      userCode: "ABC12345"
                      lastSeenAt: "2025-11-08T16:10:00Z"
                    message: "ë°°ê²½ ì´ë¯¸ì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T16:20:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ (URL í˜•ì‹ ì˜¤ë¥˜)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /api/v1/users/me/status:
    put:
      tags:
        - User Status
      summary: ì‚¬ìš©ì ìƒíƒœ ë³€ê²½
      description: |
        í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ìƒíƒœë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.

        **ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœ:**
        - ACTIVE: í™œì„±í™” (ì •ìƒ ì‚¬ìš© ê°€ëŠ¥)
        - INACTIVE: ë¹„í™œì„±í™” (ì¼ì‹œì  íœ´ë©´)

        **ê´€ë¦¬ì ì „ìš© ìƒíƒœ:**
        - SUSPENDED: ì •ì§€ë¨ (ê´€ë¦¬ìê°€ ì„¤ì •)
        - DELETED: ì‚­ì œë¨ (íƒˆí‡´)

        **ìƒíƒœ ë³€ê²½ ê·œì¹™:**
        - ì¼ë°˜ ì‚¬ìš©ìëŠ” ACTIVE â†” INACTIVE ì „í™˜ë§Œ ê°€ëŠ¥
        - SUSPENDED â†’ ACTIVE ì „í™˜ì€ ê´€ë¦¬ìë§Œ ê°€ëŠ¥
        - DELETED ìƒíƒœë¡œëŠ” ë³€ê²½ ë¶ˆê°€ (íšŒì› íƒˆí‡´ API ì‚¬ìš©)

        **ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:**
        - íœ´ê°€ë¡œ ì¸í•œ ë¹„í™œì„±í™” (ACTIVE â†’ INACTIVE)
        - íœ´ê°€ ë³µê·€ (INACTIVE â†’ ACTIVE)
      operationId: updateUserStatus
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateStatusRequest'
            examples:
              activateUser:
                summary: ì‚¬ìš©ì í™œì„±í™”
                value:
                  userId: "550e8400-e29b-41d4-a716-446655440000"
                  status: "ACTIVE"
              deactivateUser:
                summary: ì‚¬ìš©ì ë¹„í™œì„±í™”
                value:
                  userId: "550e8400-e29b-41d4-a716-446655440000"
                  status: "INACTIVE"
      responses:
        '200':
          description: ìƒíƒœ ë³€ê²½ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        $ref: '#/components/schemas/UserResponse'
              examples:
                success:
                  summary: ìƒíƒœ ë³€ê²½ ì„±ê³µ
                  value:
                    success: true
                    data:
                      id: "550e8400-e29b-41d4-a716-446655440000"
                      username: "john_doe"
                      nickname: "John Doe"
                      status: "INACTIVE"
                      profileImageUrl: "https://cdn.shoot.com/profiles/john_doe.jpg"
                      backgroundImageUrl: "https://cdn.shoot.com/backgrounds/john_doe.jpg"
                      bio: "Software Engineer"
                      userCode: "ABC12345"
                      lastSeenAt: "2025-11-08T16:25:00Z"
                    message: "ì‚¬ìš©ì ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T16:30:00Z"
                    code: 200
        '400':
          description: ì˜ëª»ëœ ìš”ì²­ (ìœ íš¨í•˜ì§€ ì•Šì€ ìƒíƒœê°’)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                invalidStatus:
                  summary: ìœ íš¨í•˜ì§€ ì•Šì€ ìƒíƒœ
                  value:
                    success: false
                    data: null
                    message: "ìœ íš¨í•˜ì§€ ì•Šì€ ìƒíƒœì…ë‹ˆë‹¤. ACTIVE ë˜ëŠ” INACTIVEë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤."
                    errorCode: "INVALID_USER_STATUS"
                    timestamp: "2025-11-08T16:30:00Z"
                    code: 400
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: ê¶Œí•œ ì—†ìŒ (ê´€ë¦¬ì ì „ìš© ìƒíƒœë¡œ ë³€ê²½ ì‹œë„)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                forbidden:
                  summary: ê¶Œí•œ ì—†ìŒ
                  value:
                    success: false
                    data: null
                    message: "SUSPENDED ìƒíƒœë¡œ ë³€ê²½í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤."
                    errorCode: "FORBIDDEN_STATUS_CHANGE"
                    timestamp: "2025-11-08T16:30:00Z"
                    code: 403

  /api/v1/users/me:
    delete:
      tags:
        - User Management
      summary: íšŒì› íƒˆí‡´
      description: |
        í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë¥¼ íƒˆí‡´ ì²˜ë¦¬í•©ë‹ˆë‹¤.

        **íƒˆí‡´ ì²˜ë¦¬:**
        - ì‚¬ìš©ì ìƒíƒœë¥¼ DELETEDë¡œ ë³€ê²½
        - UserDeletedEvent ë°œí–‰
        - ê´€ë ¨ ë°ì´í„° ì •ë¦¬ (Friend, ChatRoom ì°¸ì—¬ ë“±)

        **ë³µêµ¬ ë¶ˆê°€:**
        - íƒˆí‡´í•œ ì‚¬ìš©ìëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŒ
        - ë™ì¼í•œ username ì¬ì‚¬ìš© ë¶ˆê°€ (30ì¼ê°„)

        **ë°ì´í„° ë³´ì¡´:**
        - ë©”ì‹œì§€ ë‚´ì—­ì€ ë³´ì¡´ (ë‹¤ë¥¸ ì‚¬ìš©ì ì±„íŒ…ë°©ì— ì˜í–¥)
        - ì‚¬ìš©ì í‘œì‹œëŠ” "íƒˆí‡´í•œ ì‚¬ìš©ì"ë¡œ í‘œì‹œ
      operationId: deleteUser
      security:
        - BearerAuth: []
      responses:
        '200':
          description: íšŒì› íƒˆí‡´ ì„±ê³µ
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ResponseDto'
                  - type: object
                    properties:
                      data:
                        type: object
                        nullable: true
              examples:
                success:
                  summary: íƒˆí‡´ ì„±ê³µ
                  value:
                    success: true
                    data: null
                    message: "íšŒì› íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
                    errorCode: null
                    timestamp: "2025-11-08T15:45:00Z"
                    code: 200
        '401':
          description: ì¸ì¦ ì‹¤íŒ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: ì‚¬ìš©ì ì—†ìŒ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '409':
          description: ì´ë¯¸ íƒˆí‡´í•œ ì‚¬ìš©ì
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                alreadyDeleted:
                  summary: ì´ë¯¸ íƒˆí‡´í•¨
                  value:
                    success: false
                    data: null
                    message: "ì´ë¯¸ íƒˆí‡´í•œ ì‚¬ìš©ìì…ë‹ˆë‹¤."
                    errorCode: "ALREADY_DELETED"
                    timestamp: "2025-11-08T15:45:00Z"
                    code: 409

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        JWT Access Tokenì„ ì‚¬ìš©í•œ ì¸ì¦

        **í—¤ë” í˜•ì‹:**
        ```
        Authorization: Bearer {accessToken}
        ```

        **í† í° íšë“ ë°©ë²•:**
        1. POST /api/v1/auth/login ìœ¼ë¡œ ë¡œê·¸ì¸
        2. ì‘ë‹µì—ì„œ accessToken íšë“
        3. ì´í›„ ëª¨ë“  ìš”ì²­ì— Authorization í—¤ë” í¬í•¨

  schemas:
    # ==================== Common Schemas ====================

    ResponseDto:
      type: object
      description: ê³µí†µ API ì‘ë‹µ í¬ë§· (ëª¨ë“  API ì‘ë‹µì€ ì´ êµ¬ì¡°ë¥¼ ë”°ë¦„)
      required:
        - success
        - timestamp
        - code
      properties:
        success:
          type: boolean
          description: ìš”ì²­ ì„±ê³µ ì—¬ë¶€
          example: true
        data:
          type: object
          nullable: true
          description: ì‘ë‹µ ë°ì´í„° (íƒ€ì…ì€ ì—”ë“œí¬ì¸íŠ¸ë§ˆë‹¤ ë‹¤ë¦„)
        message:
          type: string
          nullable: true
          description: ì‘ë‹µ ë©”ì‹œì§€ (ì„ íƒì )
          example: "ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤."
        errorCode:
          type: string
          nullable: true
          description: ì˜¤ë¥˜ ì½”ë“œ (ì—ëŸ¬ ë°œìƒ ì‹œ)
          example: "INVALID_REQUEST"
        timestamp:
          type: string
          format: date-time
          description: ì‘ë‹µ ìƒì„± ì‹œê°„ (ISO 8601 í˜•ì‹)
          example: "2025-11-08T14:30:00Z"
        code:
          type: integer
          description: HTTP ìƒíƒœ ì½”ë“œ
          example: 200

    ErrorResponse:
      allOf:
        - $ref: '#/components/schemas/ResponseDto'
        - type: object
          required:
            - success
            - message
            - errorCode
          properties:
            success:
              type: boolean
              enum: [false]
              description: ì—ëŸ¬ ì‘ë‹µì€ í•­ìƒ false
            data:
              type: object
              nullable: true
              description: ì—ëŸ¬ ì‘ë‹µì€ dataê°€ null
            message:
              type: string
              description: ì˜¤ë¥˜ ë©”ì‹œì§€
              example: "ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤."
            errorCode:
              type: string
              description: ì˜¤ë¥˜ ì½”ë“œ
              example: "INVALID_REQUEST"

    # ==================== Authentication Schemas ====================

    LoginRequest:
      type: object
      description: ë¡œê·¸ì¸ ìš”ì²­
      required:
        - username
        - password
      properties:
        username:
          type: string
          description: ì‚¬ìš©ì ì´ë¦„ (3-20ì)
          minLength: 3
          maxLength: 20
          example: "john_doe"
        password:
          type: string
          description: ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 8ì)
          format: password
          minLength: 8
          example: "SecureP@ssw0rd"

    LoginResponse:
      type: object
      description: ë¡œê·¸ì¸ ì‘ë‹µ
      required:
        - userId
        - accessToken
        - refreshToken
      properties:
        userId:
          type: string
          format: uuid
          description: ì‚¬ìš©ì ê³ ìœ  ID
          example: "550e8400-e29b-41d4-a716-446655440000"
        accessToken:
          type: string
          description: JWT Access Token (ìœ íš¨ê¸°ê°„: 1ì‹œê°„)
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJleHAiOjE2OTk0NTI2MDB9.xyz..."
        refreshToken:
          type: string
          description: JWT Refresh Token (ìœ íš¨ê¸°ê°„: 30ì¼)
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDAiLCJleHAiOjE3MDIwNDQ2MDB9.abc..."

    # ==================== User Schemas ====================

    UpdateStatusRequest:
      type: object
      description: ì‚¬ìš©ì ìƒíƒœ ë³€ê²½ ìš”ì²­
      required:
        - userId
        - status
      properties:
        userId:
          type: string
          format: uuid
          description: ì‚¬ìš©ì ID (ì¸ì¦ í† í°ì—ì„œ ì¶”ì¶œ, ê²€ì¦ìš©)
          example: "550e8400-e29b-41d4-a716-446655440000"
        status:
          $ref: '#/components/schemas/UserStatus'

    UpdateProfileRequest:
      type: object
      description: í”„ë¡œí•„ ìˆ˜ì • ìš”ì²­ (ëª¨ë“  í•„ë“œ ì„ íƒì )
      properties:
        nickname:
          type: string
          nullable: true
          description: ë‹‰ë„¤ì„ (1-30ì, nullì´ë©´ ë³€ê²½ ì•ˆ í•¨)
          minLength: 1
          maxLength: 30
          example: "Updated Nickname"
        profileImageUrl:
          type: string
          format: uri
          nullable: true
          description: í”„ë¡œí•„ ì´ë¯¸ì§€ URL (nullì´ë©´ ë³€ê²½ ì•ˆ í•¨, ë¹ˆ ë¬¸ìì—´ì´ë©´ ì‚­ì œ)
          example: "https://cdn.shoot.com/profiles/new-profile.jpg"
        backgroundImageUrl:
          type: string
          format: uri
          nullable: true
          description: ë°°ê²½ ì´ë¯¸ì§€ URL (nullì´ë©´ ë³€ê²½ ì•ˆ í•¨, ë¹ˆ ë¬¸ìì—´ì´ë©´ ì‚­ì œ)
          example: "https://cdn.shoot.com/backgrounds/new-bg.jpg"
        bio:
          type: string
          nullable: true
          description: ìê¸°ì†Œê°œ (ìµœëŒ€ 500ì, nullì´ë©´ ë³€ê²½ ì•ˆ í•¨, ë¹ˆ ë¬¸ìì—´ì´ë©´ ì‚­ì œ)
          maxLength: 500
          example: "Updated bio text"

    SetProfileImageRequest:
      type: object
      description: í”„ë¡œí•„ ì‚¬ì§„ ì„¤ì • ìš”ì²­
      required:
        - profileImageUrl
      properties:
        profileImageUrl:
          type: string
          format: uri
          description: í”„ë¡œí•„ ì´ë¯¸ì§€ URL (CDN URL)
          example: "https://cdn.shoot.com/profiles/new-avatar.jpg"

    SetBackgroundImageRequest:
      type: object
      description: ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • ìš”ì²­
      required:
        - backgroundImageUrl
      properties:
        backgroundImageUrl:
          type: string
          format: uri
          description: ë°°ê²½ ì´ë¯¸ì§€ URL (CDN URL)
          example: "https://cdn.shoot.com/backgrounds/new-background.jpg"

    CreateUserRequest:
      type: object
      description: íšŒì›ê°€ì… ìš”ì²­ (multipart/form-data)
      required:
        - username
        - nickname
        - password
        - email
      properties:
        username:
          type: string
          description: ì‚¬ìš©ì ì´ë¦„ (3-20ì, ê³ ìœ , ì˜ë¬¸/ìˆ«ì/ì–¸ë”ìŠ¤ì½”ì–´ë§Œ)
          minLength: 3
          maxLength: 20
          pattern: '^[a-zA-Z0-9_]+$'
          example: "john_doe"
        nickname:
          type: string
          description: ë‹‰ë„¤ì„ (1-30ì)
          minLength: 1
          maxLength: 30
          example: "John Doe"
        password:
          type: string
          description: ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 8ì, ì˜ë¬¸+ìˆ«ì+íŠ¹ìˆ˜ë¬¸ì ì¡°í•© ê¶Œì¥)
          format: password
          minLength: 8
          example: "SecureP@ssw0rd"
        email:
          type: string
          format: email
          description: ì´ë©”ì¼ ì£¼ì†Œ (ìœ íš¨í•œ í˜•ì‹, ê³ ìœ )
          example: "john.doe@example.com"
        bio:
          type: string
          nullable: true
          description: ìê¸°ì†Œê°œ (ìµœëŒ€ 500ì, ì„ íƒ)
          maxLength: 500
          example: "Software Engineer | Coffee Lover â˜•"
        profileImage:
          type: string
          format: binary
          nullable: true
          description: í”„ë¡œí•„ ì´ë¯¸ì§€ íŒŒì¼ (jpg/png, ìµœëŒ€ 5MB, ì„ íƒ)

    UserResponse:
      type: object
      description: ì‚¬ìš©ì ìƒì„¸ ì •ë³´
      required:
        - id
        - username
        - nickname
        - status
        - userCode
      properties:
        id:
          type: string
          format: uuid
          description: ì‚¬ìš©ì ê³ ìœ  ID
          example: "550e8400-e29b-41d4-a716-446655440000"
        username:
          type: string
          description: ì‚¬ìš©ì ì´ë¦„ (3-20ì, ê³ ìœ )
          minLength: 3
          maxLength: 20
          example: "john_doe"
        nickname:
          type: string
          description: ë‹‰ë„¤ì„ (1-30ì)
          minLength: 1
          maxLength: 30
          example: "John Doe"
        status:
          $ref: '#/components/schemas/UserStatus'
        profileImageUrl:
          type: string
          format: uri
          nullable: true
          description: í”„ë¡œí•„ ì´ë¯¸ì§€ URL
          example: "https://cdn.shoot.com/profiles/john_doe.jpg"
        backgroundImageUrl:
          type: string
          format: uri
          nullable: true
          description: ë°°ê²½ ì´ë¯¸ì§€ URL
          example: "https://cdn.shoot.com/backgrounds/john_doe.jpg"
        bio:
          type: string
          nullable: true
          description: ì‚¬ìš©ì ì†Œê°œ (ìµœëŒ€ 500ì)
          maxLength: 500
          example: "Software Engineer | Coffee Lover â˜•"
        userCode:
          type: string
          description: ì‚¬ìš©ì ì½”ë“œ (8ìë¦¬ ëŒ€ë¬¸ì+ìˆ«ì, ê³ ìœ )
          pattern: '^[A-Z0-9]{8}$'
          example: "ABC12345"
        lastSeenAt:
          type: string
          format: date-time
          nullable: true
          description: ë§ˆì§€ë§‰ ì ‘ì† ì‹œê°„ (ISO 8601)
          example: "2025-11-08T14:25:00Z"

    UserStatus:
      type: string
      description: ì‚¬ìš©ì ìƒíƒœ
      enum:
        - ACTIVE      # í™œì„±í™”
        - INACTIVE    # ë¹„í™œì„±í™”
        - SUSPENDED   # ì •ì§€ë¨
        - DELETED     # ì‚­ì œë¨
      example: "ACTIVE"

  examples:
    # ì¶”ê°€ ì˜ˆì‹œëŠ” í–¥í›„ í•„ìš” ì‹œ ì—¬ê¸°ì— ì‘ì„±

  # ==================== API Response Headers ====================

  headers:
    X-Request-ID:
      description: ìš”ì²­ ì¶”ì ìš© ê³ ìœ  ID
      schema:
        type: string
        format: uuid
      example: "123e4567-e89b-12d3-a456-426614174000"

    X-Rate-Limit-Limit:
      description: Rate Limit ìµœëŒ€ ìš”ì²­ ìˆ˜
      schema:
        type: integer
      example: 100

    X-Rate-Limit-Remaining:
      description: Rate Limit ë‚¨ì€ ìš”ì²­ ìˆ˜
      schema:
        type: integer
      example: 95

    X-Rate-Limit-Reset:
      description: Rate Limit ë¦¬ì…‹ ì‹œê°„ (Unix timestamp)
      schema:
        type: integer
      example: 1699452600
